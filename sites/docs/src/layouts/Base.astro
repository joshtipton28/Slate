---
const { title = "Slate" } = Astro.props;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
    <script type="module">
      import { initThemeToggle } from "/src/components/ThemeToggle.ts";
      window.addEventListener('DOMContentLoaded', () => {
        const btn = document.querySelector('#theme-toggle');
        if (btn) initThemeToggle(btn);
      });
    </script>
    <style is:global lang="scss">
      @import "slate:core";
      @import "slate:components";
      body {
        margin: 0;
        padding: 2rem;
        background: var(--color-bg);
        color: var(--color-text);
        font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      }
    </style>
  </head>
  <body>
    <header style="display:flex;justify-content:space-between;align-items:center;padding:1rem">
      <h1>Slate</h1>
      <button id="theme-toggle" class="btn btn--ghost">Toggle theme</button>
    </header>
    <main style="padding:1rem">
      <slot />
    </main>
  </body>
</html>
